{{define "content"}}
<div class="flex justify-center">
    <div class="w-full max-w-md">
        <div class="bg-white shadow-minimal rounded-minimal border border-slate-200">
            <div class="px-8 py-6 border-b border-slate-200">
                <h2 class="text-xl font-semibold text-navy-900">Change Password</h2>
                <p class="text-sm text-slate-500 mt-1">Update your account password</p>
            </div>
            <div class="px-8 py-8">
                <form method="POST" action="/profile/password" class="space-y-6">
                    {{if .Errors.General}}
                    <div class="alert alert-error">
                        <p class="text-sm">{{.Errors.General}}</p>
                    </div>
                    {{end}}

                    <div>
                        <label for="current_password" class="form-label">Current Password</label>
                        <input 
                            type="password" 
                            id="current_password" 
                            name="current_password" 
                            class="form-input w-full {{if .Errors.CurrentPassword}}error{{end}}" 
                            placeholder="Enter your current password"
                            required
                        >
                        {{if .Errors.CurrentPassword}}
                            <p class="form-error">{{.Errors.CurrentPassword}}</p>
                        {{end}}
                    </div>

                    <div>
                        <label for="new_password" class="form-label">New Password</label>
                        <input 
                            type="password" 
                            id="new_password" 
                            name="new_password" 
                            class="form-input w-full {{if .Errors.NewPassword}}error{{end}}" 
                            placeholder="Enter your new password"
                            required 
                            minlength="6"
                        >
                        {{if .Errors.NewPassword}}
                            <p class="form-error">{{.Errors.NewPassword}}</p>
                        {{else}}
                            <p class="form-help">Password must be at least 6 characters long</p>
                        {{end}}
                    </div>

                    <div>
                        <label for="confirm_password" class="form-label">Confirm New Password</label>
                        <input 
                            type="password" 
                            id="confirm_password" 
                            name="confirm_password" 
                            class="form-input w-full {{if .Errors.ConfirmPassword}}error{{end}}" 
                            placeholder="Confirm your new password"
                            required 
                            minlength="6"
                        >
                        {{if .Errors.ConfirmPassword}}
                            <p class="form-error">{{.Errors.ConfirmPassword}}</p>
                        {{end}}
                    </div>

                    <div class="bg-slate-50 border border-slate-200 rounded-minimal p-4">
                        <h6 class="text-sm font-medium text-slate-700 mb-2">Password Security Tips</h6>
                        <ul class="text-xs text-slate-600 space-y-1">
                            <li>• Use a strong, unique password</li>
                            <li>• Passwords expire after 30 days</li>
                            <li>• Don't reuse your last few passwords</li>
                            <li>• Consider using a password manager</li>
                        </ul>
                    </div>

                    <div class="flex items-center justify-between pt-4">
                        <a href="/profile" class="btn-secondary">
                            Back to Profile
                        </a>
                        <button type="submit" class="btn-primary">
                            Update Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
// Password confirmation validation
document.getElementById('confirm_password').addEventListener('input', function() {
    const newPassword = document.getElementById('new_password').value;
    const confirmPassword = this.value;
    
    if (newPassword !== confirmPassword) {
        this.setCustomValidity('Passwords do not match');
    } else {
        this.setCustomValidity('');
    }
});

// Focus first input
document.getElementById('current_password').focus();

// Add fade-in animation
document.querySelector('.bg-white').classList.add('fade-in');
</script>
{{end}}